<%= form_tag( process_issues_action_column_index_path) do -%>

  <% if flash[:notice]%>
  <p><%= flash[:notice] %></p>
  <% end -%>

  <p>
  <%= submit_tag 'Process tasks' %>
  </p>

  <%= grid(@tasks_grid, :show_filters => :always) do |g|

    g.column :name => 'ID', :attribute => 'id', :filter => false

    g.column :name => 'Title', :attribute => 'title'

    g.column :name => 'Priority', :attribute => 'priority_id', :custom_filter => Priority.to_dropdown do |task|
      task.priority.name if task.priority
    end

    g.action_column
    # The default param_name is 'selected', the complete HTTP parameter will be "#{grid_name}[#{param_name}][]"

    # Or:
    # g.action_column :param_name => :foo, :html => {:class => 'my_class'},
    #                 :select_all_buttons => false, :object_property => :id

    g.column   do |task|
      link_to('Edit', edit_task_path(task))
    end

  end -%>

  <%= submit_tag 'Process tasks' %>

<% end -%>